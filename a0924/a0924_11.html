<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>
<body>

  <form action="http://daum.net" name="agreeFrm" method="get">
    <label for="agree1">동의1</label>
    <input type="checkbox" name="agree1" class="agree" value="yes">
    <br>
    <label for="agree2">동의2</label>
    <input type="checkbox" name="agree2" class="agree" value="yes" >
    <br>
    <label for="agree3">동의3</label>
    <input type="checkbox" name="agree3" class="agree" value="yes" >
    <br>

    <button type="button" onclick="membership()">다음</button>
  </form>

  <script>
    
    membership = () =>{
      // 속성값 - getAttribute : 읽어오기, setAttribute : 변경하기
      console.log(document.querySelectorAll(".agree").length);
      // <input type="checkbox" name="agree3" class="agree" value="yes">
      console.log(document.querySelectorAll(".agree")[0]);
      console.log(document.querySelectorAll(".agree")[0].getAttribute("value"));
      
      // checkbox가 체크되어 있으면 checked = true, 아니면 false
      console.log(document.querySelectorAll(".agree")[0].checked);

      // 체크가 모두 되어있는지 확인
      var all_agree = document.querySelectorAll(".agree");
      for(var i = 0; i < all_agree.length; i++){
        if(!all_agree[i].checked){
          console.log("체크가 되어 있지 않습니다.");

          if(confirm("전체 동의를 하지 않으면 회원가입이 불가합니다. 동의하시겠습니까?")){
            for(var j = 0; j < all_agree.length; j++){
              all_agree[j].checked = true;
            }
          }
          return false; // 여기 위치에서 더이상 진행하지 않음
        }
      }
      agreeFrm.submit(); // form action을 실행시킴

    }
  </script>
</body>
</html>